#==============================================================================
# ** Emitter
#------------------------------------------------------------------------------
# Autor   Paulo Soreto
# VersÃ£o  1.1
#------------------------------------------------------------------------------
# Classe responsÃ¡vel por gerenciar e emitir eventos.
#==============================================================================
class Emitter
  def initialize()
    @events = {}
  end

  #--------------------------------------------------------------------------
  # * Adiciona um evento
  #--------------------------------------------------------------------------
  def on(event, &callback)
    @events[event] ||= []
    @events[event].push(callback)
  end

  #--------------------------------------------------------------------------
  # * Emite um evento
  #--------------------------------------------------------------------------
  def emit(event, *args)
    return if @events[event].nil?
    @events[event].each { |e| e.call(*args) }
  end
end
